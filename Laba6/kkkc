CREATE TABLE "users" (
	"id" integer NOT NULL,
	"name" character varying(255) NOT NULL,
	"password" character varying(64) NOT NULL,
	CONSTRAINT "users_pk" PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "posts" (
	"author_id" integer NOT NULL,
	"content" TEXT NOT NULL,
	"id" integer NOT NULL,
	"topic_id" integer NOT NULL,
	CONSTRAINT "posts_pk" PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "topics" (
	"createdate" TIMESTAMP NOT NULL,
	"creator_id" integer NOT NULL,
	"id" integer NOT NULL,
	"title" character varying(255) NOT NULL,
	CONSTRAINT "topics_pk" PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "Pers. data" (
	"birth" DATE NOT NULL,
	"id" integer NOT NULL,
	"adress" varchar(255) NOT NULL,
	CONSTRAINT "Pers. data_pk" PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "Phones" (
	"id" integer NOT NULL,
	"phone" integer NOT NULL,
	CONSTRAINT "Phones_pk" PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "Comments" (
	"id" integer NOT NULL,
	"comment" character varying(255) NOT NULL,
	"post_id" integer NOT NULL,
	CONSTRAINT "Comments_pk" PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "Citys" (
	"id" integer NOT NULL,
	"city" character varying(255) NOT NULL,
	CONSTRAINT "Citys_pk" PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "Admin" (
	"id" integer NOT NULL,
	"admin" character varying(255) NOT NULL,
	"moderator" character varying(255) NOT NULL,
	"def.user" character varying(255) NOT NULL,
	CONSTRAINT "Admin_pk" PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "Topic ban" (
	"id" integer NOT NULL,
	"topic_id" integer NOT NULL,
	"begin" DATE NOT NULL,
	"end" DATE NOT NULL,
	CONSTRAINT "Topic ban_pk" PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "Full ban" (
	"id" integer NOT NULL,
	"begin" DATE NOT NULL,
	"end" DATE NOT NULL,
	CONSTRAINT "Full ban_pk" PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);




ALTER TABLE "posts" ADD CONSTRAINT "posts_fk0" FOREIGN KEY ("author_id") REFERENCES "users"("id");
ALTER TABLE "posts" ADD CONSTRAINT "posts_fk1" FOREIGN KEY ("topic_id") REFERENCES "topics"("id");

ALTER TABLE "topics" ADD CONSTRAINT "topics_fk0" FOREIGN KEY ("creator_id") REFERENCES "users"("id");

ALTER TABLE "Pers. data" ADD CONSTRAINT "Pers. data_fk0" FOREIGN KEY ("id") REFERENCES "users"("id");

ALTER TABLE "Phones" ADD CONSTRAINT "Phones_fk0" FOREIGN KEY ("id") REFERENCES "users"("id");

ALTER TABLE "Comments" ADD CONSTRAINT "Comments_fk0" FOREIGN KEY ("id") REFERENCES "users"("id");
ALTER TABLE "Comments" ADD CONSTRAINT "Comments_fk1" FOREIGN KEY ("post_id") REFERENCES "posts"("id");

ALTER TABLE "Citys" ADD CONSTRAINT "Citys_fk0" FOREIGN KEY ("id") REFERENCES "users"("id");

ALTER TABLE "Admin" ADD CONSTRAINT "Admin_fk0" FOREIGN KEY ("id") REFERENCES "users"("id");

ALTER TABLE "Topic ban" ADD CONSTRAINT "Topic ban_fk0" FOREIGN KEY ("id") REFERENCES "users"("id");
ALTER TABLE "Topic ban" ADD CONSTRAINT "Topic ban_fk1" FOREIGN KEY ("topic_id") REFERENCES "topics"("id");

ALTER TABLE "Full ban" ADD CONSTRAINT "Full ban_fk0" FOREIGN KEY ("id") REFERENCES "users"("id");

